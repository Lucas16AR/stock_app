{% extends "base.html" %}
{% block content %}
<h3>Agregar nuevo producto</h3>
<form method="post" enctype="multipart/form-data">
  <div class="row">
    <div class="col-md-6">
      <div class="mb-3">
        <label class="form-label">Nombre</label>
        <input class="form-control" name="nombre" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Cantidad</label>
        <input class="form-control" type="number" name="cantidad" value="1" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Precio de compra</label>
        <input class="form-control" type="number" step="0.01" name="precio_compra" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Lote (opcional)</label>
        <select class="form-select" name="lote_id">
          <option value="">-- Ninguno --</option>
          {% for lote in lotes %}
            <option value="{{ lote.id }}">Lote #{{ lote.id }} (Envio ${{ lote.costo_envio }})</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="col-md-6">
      <div class="mb-3">
        <label class="form-label">Costo envío unitario</label>
        <input class="form-control" type="number" step="0.01" name="costo_envio_unitario">
      </div>
      <div class="mb-3">
        <label class="form-label">Costo extra (packaging)</label>
        <input class="form-control" type="number" step="0.01" name="costo_extra">
      </div>
      <div class="mb-3">
        <label class="form-label">Margen (ej: 0.5 = 50%)</label>
        <input class="form-control" type="number" step="0.01" name="margen" value="0.5">
      </div>
      <div class="mb-3">
        <label class="form-label">Fotos (máx 4)</label>
        <input class="form-control" type="file" name="fotos" multiple accept="image/*">
      </div>
      <div class="mt-3">
        <button class="btn btn-primary">Agregar</button>
        <a class="btn btn-secondary" href="{{ url_for('productos') }}">Cancelar</a>
      </div>
    </div>
  </div>
</form>
{% endblock %}